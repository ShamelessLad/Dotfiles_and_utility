var quick_options={showMessage:function(a){var b=document.getElementById("error"===a?"error":"success");b.style.display="inline",setTimeout(function(){b.style.display="none"},2501)}};window.addEventListener("load",function(){function b(a){storage.area.set(a,function(){quick_options.showMessage(chrome.runtime.lastError?quick_options.showMessage("error"):quick_options.showMessage("success")),document.dispatchEvent(new CustomEvent("optionSaved",{detail:{success:chrome.runtime.lastError?!1:!0,val:a}}))})}var a=new CustomEvent("optionsPageReady");storage.area.get(storage.default_options,function(c){var d=document.querySelectorAll("input"),e=document.querySelectorAll("select"),f=document.querySelectorAll("textarea");[].forEach.call(d,function(a){var e,d=a.getAttribute("data-storage");if(d&&c.hasOwnProperty(d))switch(a.type){case"checkbox":1===parseInt(c[d],10)&&(a.checked=!0),a.addEventListener("change",function(){var e={};c[d]=a.checked?1:0,e[d]=c[d],b(e)},!1);break;case"radio":a.value===c[d].toString()&&(a.checked="checked"),a.addEventListener("change",function(){var e={};a.checked&&(c[d]=a.value,e[d]=c[d],b(e))},!1);break;case"range":case"color":case"date":case"time":case"month":case"week":a.value=c[d],a.addEventListener("change",function(){var e={};c[d]=a.value,e[d]=c[d],b(e)},!1);break;case"text":case"password":case"email":case"tel":case"number":a.value=c[d];break;case"submit":case"button":[].forEach.call(document.querySelectorAll('[data-storage="'+d+'"]'),function(a){"submit"!==a.type&&"button"!==a.type&&(e=a)}),e&&a.addEventListener("click",function(){var a={};c[d]=e.value,a[d]=c[d],b(a)},!1)}}),[].forEach.call(f,function(a){var b=a.getAttribute("data-storage");b&&c.hasOwnProperty(b)&&(a.value=c[b])}),[].forEach.call(e,function(a){var e,f,d=a.getAttribute("data-storage");if(d&&c.hasOwnProperty(d)&&(a.multiple&&Array.isArray(c[d])||!a.multiple)){for(e=a.options,f=e.length;f--;)if(a.multiple)-1!==c[d].indexOf(e[f].value)&&(e[f].selected="selected");else if(e[f].value===c[d]){e[f].selected="selected";break}a.addEventListener("change",function(){var h,f={},g=[];if(a.multiple){for(h=e.length;h--;)e[h].selected&&g.push(e[h].value);c[d]=g}else c[d]=e[e.selectedIndex].value;f[d]=c[d],b(f)},!1)}}),document.dispatchEvent(a)})},!1);